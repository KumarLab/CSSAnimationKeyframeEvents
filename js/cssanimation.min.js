/*
 CSSAnimation v0.2a
 Provides 'cssAnimationKeyframe' events for keyframe animations.
 http://www.joelambert.co.uk/cssa

 Copyright 2011, Joe Lambert. All rights reserved
 Free to use under the MIT license.
 http://www.opensource.org/licenses/mit-license.php
*/
var CSSAnimation={version:"0.2a"};CSSAnimation.find=function(a){for(var e=document.styleSheets,d=e.length-1;d>=0;d--){var b=e[d];b=b.cssRules?b.cssRules:b.rules?b.rules:[];for(var c=b.length-1;c>=0;c--)if(b[c].type===window.CSSRule.WEBKIT_KEYFRAMES_RULE&&b[c].name==a)return b[c]}return null};
CSSAnimation.trigger=function(a,e,d,b){var c={},j={},k=null,l=0,o=0,f={base:5,easing:"linear",iterationCount:1},g;for(g in b)f[g]=b[g];if(!a.isPlaying){k=CSSAnimation.find(e);if(!k)return false;c={};for(b=0;b<k.cssRules.length;b++){g=k.cssRules[b];var p=g.keyText,h=0;p=="from"?h=0:p=="to"?h=1:h=p.replace("%","")/100;c[h*100+"%"]=g}l=(new Date).getTime();var m=h=roundedKey=keyframe=null,q=function(n,r){var i=document.createEvent("Event");i.initEvent("cssAnimationKeyframe");i.animationName=e;i.keyText=
n;i.elapsedTime=r;a.dispatchEvent(i)};a.style.webkitAnimationDuration=d+"ms";a.style.webkitAnimationTimingFunction=f.easing;a.style.webkitAnimationIterationCount=f.iterationCount;a.style.webkitAnimationName=e;a.isPlaying=true;(function n(){m=(new Date).getTime();percent=Math.floor((m-(l+o*d))/d*100);key=percent-percent%f.base+"%";if((keyframe=c[key])&&!j[key]){j[key]=true;q(key,(m-l)/1E3)}if(percent<100)requestAnimFrame(n,a);else{j["100%"]||q("100%",(m-l)/1E3);o++;if(o<f.iterationCount||f.iterationCount==
"infinite"){j={};requestAnimFrame(n,a)}else{a.style.webkitAnimationDuration=null;a.style.webkitAnimationTimingFunction=null;a.style.webkitAnimationName=null;a.style.webkitAnimationIterationCount=0;a.isPlaying=false}}})()}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();
