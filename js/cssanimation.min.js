/*
 CSSAnimation v0.1
 Provides 'cssAnimationKeyframe' events for keyframe animations.
 http://www.joelambert.co.uk/cssa

 Copyright 2011, Joe Lambert. All rights reserved
 Free to use under the MIT license.
 http://www.opensource.org/licenses/mit-license.php
*/
var CSSAnimation={version:"0.1"};CSSAnimation.find=function(a){for(var f=document.styleSheets,d=f.length-1;d>=0;d--){var b=f[d];b=b.cssRules?b.cssRules:b.rules;for(var c=b.length-1;c>=0;c--)if(b[c].type===window.CSSRule.WEBKIT_KEYFRAMES_RULE&&b[c].name==a)return b[c]}return null};
CSSAnimation.trigger=function(a,f,d,b){var c={},l={},h=null,i=0,m={base:5,easing:"linear"},e;for(e in b)m[e]=b[e];if(!a.isPlaying){h=CSSAnimation.find(f);if(!h)return false;c={};for(b=0;b<h.cssRules.length;b++){e=h.cssRules[b];var n=e.keyText,g=0;n=="from"?g=0:n=="to"?g=1:g=n.replace("%","")/100;c[g*100+"%"]=e}i=(new Date).getTime();var j=g=roundedKey=keyframe=null,p=function(o,q){var k=document.createEvent("Event");k.initEvent("cssAnimationKeyframe");k.keyText=o;k.elapsedTime=q;a.dispatchEvent(k)};
a.style.webkitAnimationDuration=d+"ms";a.style.webkitAnimationTimingFunction=m.easing;a.style.webkitAnimationName=f;a.isPlaying=true;(function o(){j=(new Date).getTime();percent=Math.floor((j-i)/d*100);key=percent-percent%m.base+"%";if((keyframe=c[key])&&!l[key]){l[key]=true;p(key,(j-i)/1E3)}if(percent<100)requestAnimFrame(o,a);else{l["100%"]||p("100%",(j-i)/1E3);a.style.webkitAnimationDuration=null;a.style.webkitAnimationTimingFunction=null;a.style.webkitAnimationName=null;a.isPlaying=false}})()}};
window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();
