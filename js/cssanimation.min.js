/*
 CSSAnimation v0.1
 Provides 'cssAnimationKeyframe' events for keyframe animations.
 http://www.joelambert.co.uk/cssa

 Copyright 2011, Joe Lambert. All rights reserved
 Free to use under the MIT license.
 http://www.opensource.org/licenses/mit-license.php
*/
var CSSAnimation={version:"0.1"};CSSAnimation.find=function(a){for(var g=document.styleSheets,d=g.length-1;d>=0;d--){var b=g[d];b=b.cssRules?b.cssRules:b.rules?b.rules:[];for(var c=b.length-1;c>=0;c--)if(b[c].type===window.CSSRule.WEBKIT_KEYFRAMES_RULE&&b[c].name==a)return b[c]}return null};
CSSAnimation.trigger=function(a,g,d,b){var c={},i={},j=null,k=0,o=0,e={base:5,easing:"linear",iterationCount:1},f;for(f in b)e[f]=b[f];if(!a.isPlaying){j=CSSAnimation.find(g);if(!j)return false;c={};for(b=0;b<j.cssRules.length;b++){f=j.cssRules[b];var p=f.keyText,h=0;p=="from"?h=0:p=="to"?h=1:h=p.replace("%","")/100;c[h*100+"%"]=f}k=(new Date).getTime();var l=h=roundedKey=keyframe=null,q=function(m,r){var n=document.createEvent("Event");n.initEvent("cssAnimationKeyframe");n.keyText=m;n.elapsedTime=
r;a.dispatchEvent(n)};a.style.webkitAnimationDuration=d+"ms";a.style.webkitAnimationTimingFunction=e.easing;a.style.webkitAnimationIterationCount=e.iterationCount;a.style.webkitAnimationName=g;a.isPlaying=true;(function m(){l=(new Date).getTime();percent=Math.floor((l-(k+o*d))/d*100);key=percent-percent%e.base+"%";if((keyframe=c[key])&&!i[key]){i[key]=true;q(key,(l-k)/1E3)}if(percent<100)requestAnimFrame(m,a);else{i["100%"]||q("100%",(l-k)/1E3);o++;if(o<e.iterationCount||e.iterationCount=="infinite"){i=
{};requestAnimFrame(m,a)}else{a.style.webkitAnimationDuration=null;a.style.webkitAnimationTimingFunction=null;a.style.webkitAnimationName=null;a.style.webkitAnimationIterationCount=0;a.isPlaying=false}}})()}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();
